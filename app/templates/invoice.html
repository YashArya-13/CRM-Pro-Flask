{% extends "base.html" %}
{% block content %}
<h3>Invoices</h3>
<div class="row">
  <div class="col-md-5">
    <div class="card p-3">
      <form method="POST">
        {{ form.hidden_tag() }}
        <div class="mb-3">{{ form.client_name.label }} {{ form.client_name(class="form-control") }}</div>
        <div class="mb-3">{{ form.item_name.label }} {{ form.item_name(class="form-control") }}</div>
        <div class="mb-3">{{ form.item_qty.label }} {{ form.item_qty(class="form-control") }}</div>
        <div class="mb-3">{{ form.item_price.label }} {{ form.item_price(class="form-control") }}</div>
        <div class="mb-3">{{ form.tax_percent.label }} {{ form.tax_percent(class="form-control") }}</div>
        {{ form.submit(class="btn btn-primary w-100") }}
      </form>
    </div>
  </div>

  <div class="col-md-7">
    <div class="card p-3">
      <h5>All Invoices</h5>
      <ul class="list-group">
        {% for inv in invoices %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div>
            <b>{{ inv.client_name }}</b><br>
            <small>{{ inv.created_at.strftime('%Y-%m-%d') }}</small>
          </div>
          <div>
            <a class="btn btn-sm btn-outline-secondary" href="{{ url_for('invoice_view', id=inv.id) }}">View</a>
            <a class="btn btn-sm btn-outline-primary" href="{{ url_for('invoice_pdf', id=inv.id) }}">PDF</a>
          </div>
        </li>
        {% else %}
        <li class="list-group-item">No invoices yet</li>
        {% endfor %}
      </ul>
    </div>
  </div>
</div>
{% endblock %}
